setwd("~/Proyectos/Otros/contaminaAnd/contaminAND/datos")
install.packages("lubridate")
Sys.time()
as.numeric(format(Sys.time(), "%OS3")) * 1000
as.numeric(format(Sys.time(), "%OS3"))
as.numeric(Sys.time())*1000, digits=15
as.numeric(Sys.time())*1000
as.numeric(Sys.time())
library("entropy")
library("ggplot2")
library("ggthemes")
library("readr")
library("svglite")
library("lubridate")
datos.CO<-read_csv("contaminAND-gr-conjunto.csv",
col_types = cols(date= col_datetime(),CO.congresos = col_number(),
CO.norte = col_number()), na = "NA")
number_data.datos.CO<- nrow(datos.CO)
datos.CO.filtros<-datos.CO
datos.CO.filtros[is.na(datos.CO.filtros)] <- -1000000
datos.CO.filtros$ano <- as.numeric(format(datos.CO.filtros$date, "%Y"))
datos.CO.filtros$mes<- as.numeric(format(datos.CO.filtros$date, "%m"))
datos.CO.filtros$dia<- as.numeric(format(datos.CO.filtros$date, "%d"))
datos.CO.filtros$hora<- as.numeric(format(datos.CO.filtros$date, "%H"))
datos.CO.filtros$minuto<- as.numeric(format(datos.CO.filtros$date, "%M"))
datos.CO.filtros$date <- as.numeric(datos.CO.filtros$date)
View(datos.CO.filtros)
number_data.datos.CO.filtros<- nrow(datos.CO.filtros)
datos.CO.filtros2<- datos.CO.filtros[1:(number_data.datos.CO.filtros-1),]
datos.CO.filtros3<- datos.CO.filtros[-1,]
datos.gradiente.CO<-data.frame(diff(as.matrix(datos.CO.filtros)),datos.CO.filtros2,datos.CO.filtros3)
datos.gradiente.CO$percent.congresos<-datos.gradiente.CO$CO.congresos*100/datos.gradiente.CO$CO.congresos.1;
datos.gradiente.CO$percent.norte<-datos.gradiente.CO$CO.norte*100/datos.gradiente.CO$CO.norte.1;
View(datos.gradiente.CO)
datos.gradiente.CO.exageraos<-datos.gradiente.CO[abs(datos.gradiente.CO$percent.congresos)<200]
datos.gradiente.CO.exageraos<-datos.gradiente.CO[datos.gradiente.CO$percent.congresos<200]
#
datos.gradiente.CO.exageraos<-datos.gradiente.CO[datos.gradiente.CO$percent.congresos<200]
datos.gradiente.CO.exageraos<-datos.gradiente.CO[percent.congresos<200]
datos.gradiente.CO.exageraos<-subset(datos.gradiente.CO,abs(percent.congresos)<200)
View(datos.gradiente.CO.exageraos)
datos.gradiente.CO.exageraos<-subset(datos.gradiente.CO,abs(percent.congresos)>200)
View(datos.gradiente.CO.exageraos)
write.csv(datos.gradiente.CO, file = "datos.gradiente.CO.csv")
ggplot(datos.gradiente.CO,aes(x=percent.norte,y=percent.congresos,color=abs(CO.congresos),size=abs(hora.2)))+geom_point()+scale_colour_distiller(palette='Spectral')
datos.gradiente.CO.no.exageraos<-subset(datos.gradiente.CO,abs(percent.congresos)<2000)
ggplot(datos.gradiente.CO.no.exageraos,aes(x=percent.norte,y=percent.congresos,color=abs(CO.congresos),size=abs(hora.2)))+geom_point()+scale_colour_distiller(palette='Spectral')
datos.gradiente.CO.no.exageraos<-subset(datos.gradiente.CO,abs(percent.congresos)<2000 && (percent.norte)<2000)
datos.gradiente.CO.no.exageraos<-subset(datos.gradiente.CO,abs(percent.congresos)<2000 && abs(percent.norte)<2000)
ggplot(datos.gradiente.CO.no.exageraos,aes(x=percent.norte,y=percent.congresos,color=abs(CO.congresos),size=abs(hora.2)))+geom_point()+scale_colour_distiller(palette='Spectral')
datos.gradiente.CO.no.exageraos<-subset(datos.gradiente.CO,abs(CO.congresos)<100000 && abs(CO.norte)<100000)
ggplot(datos.gradiente.CO.no.exageraos,aes(x=percent.norte,y=percent.congresos,color=abs(CO.congresos),size=abs(hora.2)))+geom_point()+scale_colour_distiller(palette='Spectral')
View(datos.gradiente.CO.no.exageraos)
datos.gradiente.CO.no.exageraos<-subset(datos.gradiente.CO,abs(CO.congresos)<100000 || abs(CO.norte)<100000)
ggplot(datos.gradiente.CO.no.exageraos,aes(x=percent.norte,y=percent.congresos,color=abs(CO.congresos),size=abs(hora.2)))+geom_point()+scale_colour_distiller(palette='Spectral')
View(datos.gradiente.CO.no.exageraos)
datos.gradiente.CO.no.exageraos<-subset(datos.gradiente.CO,(CO.congresos>-100000 && CO.congresos<100000) && (CO.norte>-100000 && CO.norte<100000))
View(datos.gradiente.CO.no.exageraos)
datos.gradiente.CO.no.exageraos<-subset(datos.gradiente.CO,(percent.congresos>-100 && percent.congresos<2000) && (percent.norte>-100 && percent.norte<2000))
View(datos.gradiente.CO.no.exageraos)
library("plyr")
datos.gradiente.CO.no.exageraos<-subset(datos.gradiente.CO,(percent.congresos>-100 && percent.congresos<2000) && (percent.norte>-100 && percent.norte<2000))
View(datos.gradiente.CO.no.exageraos)
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO[(datos.gradiente.CO$percent.congresos>-100 && datos.gradiente.CO$percent.congresos<2000)]
#
View(datos.gradiente.CO.no.exageraos)
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO[datos.gradiente.CO$percent.congresos>-100 ]
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO[datos.gradiente.CO$percent.congresos>-100 ]
library("entropy")
library("ggplot2")
library("ggthemes")
library("readr")
library("svglite")
library("lubridate")
datos.CO<-read_csv("contaminAND-gr-conjunto.csv",
col_types = cols(date= col_datetime(),CO.congresos = col_number(),
CO.norte = col_number()), na = "NA")
number_data.datos.CO<- nrow(datos.CO)
datos.CO.filtros<-datos.CO
datos.CO.filtros[is.na(datos.CO.filtros)] <- -1000000
datos.CO.filtros$ano <- as.numeric(format(datos.CO.filtros$date, "%Y"))
datos.CO.filtros$mes<- as.numeric(format(datos.CO.filtros$date, "%m"))
datos.CO.filtros$dia<- as.numeric(format(datos.CO.filtros$date, "%d"))
datos.CO.filtros$hora<- as.numeric(format(datos.CO.filtros$date, "%H"))
datos.CO.filtros$minuto<- as.numeric(format(datos.CO.filtros$date, "%M"))
datos.CO.filtros$date <- as.numeric(datos.CO.filtros$date)
number_data.datos.CO.filtros<- nrow(datos.CO.filtros)
datos.CO.filtros2<- datos.CO.filtros[1:(number_data.datos.CO.filtros-1),]
datos.CO.filtros3<- datos.CO.filtros[-1,]
#datos.gradiente.CO <- data.frame(congresos= numeric(0), norte= numeric(0), percert.congresos=numeric(0),percent.norte=numeric(0),original.congresos.ant=numeric(0),original.norte.ant=numeric(0),original.congresos=numeric(0),original.norte=numeric(0))
datos.gradiente.CO<-data.frame(diff(as.matrix(datos.CO.filtros)),datos.CO.filtros2,datos.CO.filtros3)
datos.gradiente.CO$percent.congresos<-datos.gradiente.CO$CO.congresos*100/datos.gradiente.CO$CO.congresos.1;
datos.gradiente.CO$percent.norte<-datos.gradiente.CO$CO.norte*100/datos.gradiente.CO$CO.norte.1;
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO[datos.gradiente.CO$percent.congresos>-100 ]
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO[which(datos.gradiente.CO$percent.congresos>-100) ]
print(datos.gradiente.CO$percent.congresos)
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO[which(datos.gradiente.CO$percent.congresos>-100), ]
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO[wich(datos.gradiente.CO$percent.congresos>-100 && datos.gradiente.CO$percent.congresos<2000),]
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO[which(datos.gradiente.CO$percent.congresos>-100 && datos.gradiente.CO$percent.congresos<2000),]
View(datos.gradiente.CO.no.exageraos)
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO[datos.gradiente.CO$percent.congresos>-100 && datos.gradiente.CO$percent.congresos<2000,]
View(datos.gradiente.CO.no.exageraos)
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO[datos.gradiente.CO$percent.congresos>-100,]
View(datos.gradiente.CO.no.exageraos)
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO[datos.gradiente.CO$percent.congresos>-100 && datos.gradiente.CO$percent.norte>-100,]
View(datos.gradiente.CO.no.exageraos)
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO[datos.gradiente.CO$percent.congresos>-100 ,]
View(datos.gradiente.CO.no.exageraos)
datos.gradiente.CO.no.exageraos<-datos.gradiente.CO.no.exageraos[datos.gradiente.CO.no.exageraos$percent.norte>-100 ,]
View(datos.gradiente.CO.no.exageraos)
ggplot(datos.gradiente.CO.no.exageraos,aes(x=percent.norte,y=percent.congresos,color=abs(CO.congresos),size=abs(hora.2)))+geom_point()+scale_colour_distiller(palette='Spectral')
datos.gradiente.CO.exageraos<-datos.gradiente.CO[datos.gradiente.CO$percent.congresos>-100 ,]
datos.gradiente.CO.exageraos<-datos.gradiente.CO.exageraos[datos.gradiente.CO.exageraos$percent.norte>-100 ,]
datos.gradiente.CO.exageraos<-datos.gradiente.CO.exageraos[datos.gradiente.CO.exageraos$hora.2>20 ,]
View(datos.gradiente.CO.exageraos)
ggplot(datos.gradiente.CO.exageraos,aes(x=percent.norte,y=percent.congresos,color=abs(CO.congresos),size=abs(hora.2)))+geom_point()+scale_colour_distiller(palette='Spectral')
setwd("~/Proyectos/Otros/contaminaAnd/contaminAND/datos")
